二十八、ArrayManager()
（一）def __init__(self, size: int = 100)。
参数size的大小决定了指标计算的最大长度，以及ArrayManager初始化所需要数据的最低长度。
（二）计算数据指标所用的第三方模块的选择。
之所以选择通过numpy的ndarray计算数据指标，是因为array在内存中存在的形式接近于c层面的数组。假如每次创建一个全新的数组，把此前数组中数据赋值进去，然后对数组最后一个位置赋予bar的最新值，这种方案非常耗时，对策略的运行效率会造成比较明显的延时影响。假如使用panda的series，对电脑资源的耗费也比较大。
比较可接受的方案，就是用numpy的ndarray进行切片平移的方法，这是目前能找到的最节省电脑资源开销的方案。vnpy团队为了寻找这个方案，花了三四个月的时间。
极端反面例子是：pandas中的append函数，这个函数每增加一个新的元素，就新创建一个新的更大的series，然后销毁原来的series，非常耗费电脑资源。
list中的apppend，每次增加一个新的元素，只是更新指针，对资源消耗可以忽略不计。先分配100个位置，超过100个后，重新分配200个位置。
OHLC序列
使用numpy.array数组，作为基础数据容器
采用array数据平移，来实现快速动态更新
通过numpy支持各类常用的向量化运算
添加@property语法糖，实现更加自然的调用语法
（三）talib计算的某些指标和国内普遍使用的指标计算方法不一样。
例如国内计算MACD是SMA，国外计算MACD是用EMA。
（四）查询某talib函数所需参数。
ctrl + j → python → import talib → help(talib.SMA)